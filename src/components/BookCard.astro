---
const { title, author, img, alt, url } = Astro.props;
import { Image } from "astro:assets";
---

{url ? (
  <a
    href={url}
    target="_blank"
    rel="noopener noreferrer"
    class="group block h-full text-current no-underline transition hover:no-underline"
  >
    <div class="flex h-full flex-col gap-6 rounded-xl border border-border-light bg-white/80 p-6 shadow-sm transition hover:border-accent hover:shadow-soft dark:border-border-dark dark:bg-surface-dark/70 dark:hover:border-accent-dark sm:flex-row">
      <div class="w-full max-w-[150px] flex-shrink-0 overflow-hidden rounded-md shadow-sm">
        <Image
          src={img || "https://via.placeholder.com/150x220.png"}
          alt={alt || title}
          width="150"
          height="220"
          class="h-auto w-full object-cover"
        />
      </div>
      <div class="flex flex-1 flex-col">
        <h4 class="text-2xl font-semibold text-text-base transition group-hover:text-accent dark:text-text-light">
          {title}
        </h4>
        <p class="mt-1 text-sm font-medium italic text-muted-light dark:text-muted">
          {author}
        </p>
        <div class="mt-4 space-y-3 text-base leading-relaxed text-text-base/80 dark:text-text-light/80">
          <slot />
        </div>
      </div>
    </div>
  </a>
) : (
  <div class="group h-full">
    <div class="flex h-full flex-col gap-6 rounded-xl border border-border-light bg-white/80 p-6 shadow-sm transition hover:border-accent hover:shadow-soft dark:border-border-dark dark:bg-surface-dark/70 dark:hover:border-accent-dark sm:flex-row">
      <div class="w-full max-w-[150px] flex-shrink-0 overflow-hidden rounded-md shadow-sm">
        <Image
          src={img || "https://via.placeholder.com/150x220.png"}
          alt={alt || title}
          width="150"
          height="220"
          class="h-auto w-full object-cover"
        />
      </div>
      <div class="flex flex-1 flex-col">
        <h4 class="text-2xl font-semibold text-text-base transition group-hover:text-accent dark:text-text-light">
          {title}
        </h4>
        <p class="mt-1 text-sm font-medium italic text-muted-light dark:text-muted">
          {author}
        </p>
        <div class="mt-4 space-y-3 text-base leading-relaxed text-text-base/80 dark:text-text-light/80">
          <slot />
        </div>
      </div>
    </div>
  </div>
)}
