---
const { title, author, img, alt, url } = Astro.props;
import { Image } from "astro:assets";
---

{
  url ? (
    <a
      href={url}
      target="_blank"
      rel="noopener noreferrer"
      class="book-card-link block text-inherit no-underline transition hover:underline"
    >
      <div
        class="book-card flex items-start gap-5 rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition-colors duration-150 dark:border-slate-700 dark:bg-slate-900 sm:flex-col sm:p-4"
      >
        <div class="book-cover w-[150px] flex-shrink-0 sm:w-full">
          <Image
            src={img || "https://via.placeholder.com/150x220.png"}
            alt={alt || title}
            width="150"
            height="220"
            class="h-auto w-full rounded-md object-cover"
          />
        </div>
        <div class="book-info flex-1">
          <h4 class="mt-4 text-xl font-semibold text-slate-900 dark:text-white sm:mt-2">
            {title}
          </h4>
          <p class="mt-2 text-base italic text-slate-500 dark:text-slate-300">
            {author}
          </p>
          <div class="description text-base leading-relaxed text-slate-600 dark:text-slate-300">
            <slot />
          </div>
        </div>
      </div>
    </a>
  ) : (
    <div
      class="book-card flex items-start gap-5 rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition-colors duration-150 dark:border-slate-700 dark:bg-slate-900 sm:flex-col sm:p-4"
    >
      <div class="book-cover w-[150px] flex-shrink-0 sm:w-full">
        <Image
          src={img || "https://via.placeholder.com/150x220.png"}
          alt={alt || title}
          width="150"
          height="220"
          class="h-auto w-full rounded-md object-cover"
        />
      </div>
      <div class="book-info flex-1">
        <h4 class="mt-4 text-xl font-semibold text-slate-900 dark:text-white sm:mt-2">
          {title}
        </h4>
        <p class="mt-2 text-base italic text-slate-500 dark:text-slate-300">
          {author}
        </p>
        <div class="description text-base leading-relaxed text-slate-600 dark:text-slate-300">
          <slot />
        </div>
      </div>
    </div>
  )
}

